<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sambethel Taste Bakery | Register</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      }

      :root {
        --dark-orange: #cc5500;
        --dark-green: #006400;
        --light-orange: #ff8c42;
        --light-green: #228b22;
        --cream: #fffaf0;
        --brown: #8b4513;
        --error: #e74c3c;
        --success: #27ae60;
      }

      body {
        background-color: #f9f5f0;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        background-image: url('data:image/svg+xml;utf8,<svg width="100" height="100" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><path d="M30,30 Q50,15 70,30 T90,30 L90,70 Q70,85 50,70 T30,70 Z" fill="%23006400" opacity="0.05"/></svg>');
      }

      header {
        background-color: var(--dark-green);
        padding: 20px 40px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      }

      .logo {
        display: flex;
        align-items: center;
        color: white;
        text-decoration: none;
      }

      .logo-icon {
        font-size: 2.5rem;
        margin-right: 15px;
        color: var(--light-orange);
      }

      .logo h1 {
        font-size: 1.8rem;
        font-weight: 700;
      }

      .logo span {
        color: var(--light-orange);
      }

      nav ul {
        display: flex;
        list-style: none;
      }

      nav li {
        margin-left: 25px;
      }

      nav a {
        color: white;
        text-decoration: none;
        font-weight: 500;
        font-size: 1.1rem;
        transition: color 0.3s;
      }

      nav a:hover {
        color: var(--light-orange);
      }

      .container {
        display: flex;
        max-width: 1200px;
        margin: 40px auto;
        padding: 0 20px;
        flex-grow: 1;
      }

      .register-section {
        flex: 1;
        padding: 40px;
        display: flex;
        flex-direction: column;
        justify-content: center;
      }

      .register-form-container {
        background-color: white;
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        padding: 40px;
        max-width: 500px;
        width: 100%;
        margin: 0 auto;
      }

      .register-header {
        text-align: center;
        margin-bottom: 30px;
      }

      .register-header h2 {
        color: var(--dark-green);
        font-size: 2.2rem;
        margin-bottom: 10px;
      }

      .register-header p {
        color: var(--brown);
        font-size: 1.1rem;
      }

      .form-group {
        margin-bottom: 25px;
        position: relative;
      }

      .form-group label {
        display: block;
        margin-bottom: 8px;
        color: var(--dark-green);
        font-weight: 600;
      }

      .form-group.required label:after {
        content: " *";
        color: var(--error);
      }

      .input-with-icon {
        position: relative;
      }

      .input-with-icon i {
        position: absolute;
        left: 15px;
        top: 50%;
        transform: translateY(-50%);
        color: var(--dark-orange);
      }

      .form-control {
        width: 100%;
        padding: 15px 15px 15px 45px;
        border: 2px solid #e0e0e0;
        border-radius: 10px;
        font-size: 1rem;
        transition: all 0.3s;
      }

      .form-control:focus {
        border-color: var(--dark-orange);
        outline: none;
        box-shadow: 0 0 0 3px rgba(204, 85, 0, 0.2);
      }

      .form-control.valid {
        border-color: var(--success);
      }

      .form-control.invalid {
        border-color: var(--error);
      }

      .password-toggle {
        position: absolute;
        right: 15px;
        top: 50%;
        transform: translateY(-50%);
        color: #777;
        cursor: pointer;
      }

      .password-toggle:hover {
        color: var(--dark-orange);
      }

      .form-hint {
        display: block;
        font-size: 0.85rem;
        color: #777;
        margin-top: 5px;
      }

      .password-strength {
        margin-top: 10px;
      }

      .strength-meter {
        height: 6px;
        background-color: #e0e0e0;
        border-radius: 3px;
        overflow: hidden;
        margin-bottom: 5px;
      }

      .strength-fill {
        height: 100%;
        width: 0%;
        background-color: #e74c3c;
        border-radius: 3px;
        transition:
          width 0.3s,
          background-color 0.3s;
      }

      .strength-text {
        font-size: 0.85rem;
        color: #777;
      }

      .terms-group {
        display: flex;
        align-items: flex-start;
        margin-bottom: 25px;
        padding: 15px;
        background-color: #f9f9f9;
        border-radius: 10px;
      }

      .terms-group input {
        margin-top: 5px;
        margin-right: 10px;
        accent-color: var(--dark-orange);
      }

      .terms-group label {
        font-weight: normal;
        color: #555;
        line-height: 1.5;
      }

      .terms-group a {
        color: var(--dark-orange);
        text-decoration: none;
        font-weight: 500;
      }

      .terms-group a:hover {
        text-decoration: underline;
      }

      .register-btn {
        width: 100%;
        padding: 16px;
        background-color: var(--dark-green);
        color: white;
        border: none;
        border-radius: 10px;
        font-size: 1.1rem;
        font-weight: 600;
        cursor: pointer;
        transition: background-color 0.3s;
        margin-bottom: 20px;
      }

      .register-btn:hover {
        background-color: var(--light-green);
      }

      .register-btn:disabled {
        background-color: #cccccc;
        cursor: not-allowed;
      }

      .login-link {
        text-align: center;
        color: var(--brown);
      }

      .login-link a {
        color: var(--dark-orange);
        font-weight: 600;
        text-decoration: none;
      }

      .login-link a:hover {
        text-decoration: underline;
      }

      .error-message {
        color: var(--error);
        font-size: 0.9rem;
        margin-top: 5px;
        display: none;
      }

      .image-section {
        flex: 1;
        padding: 40px;
        display: flex;
        flex-direction: column;
        justify-content: center;
      }

      .bakery-benefits {
        background: linear-gradient(
          135deg,
          var(--dark-orange) 0%,
          rgba(0, 100, 0, 0.8) 100%
        );
        border-radius: 20px;
        height: 400px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        text-align: center;
        padding: 30px;
        box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
        margin-bottom: 30px;
      }

      .bakery-benefits h3 {
        font-size: 2.2rem;
        margin-bottom: 20px;
      }

      .bakery-benefits ul {
        list-style-type: none;
        text-align: left;
        margin-top: 20px;
      }

      .bakery-benefits li {
        margin-bottom: 15px;
        font-size: 1.1rem;
        display: flex;
        align-items: center;
      }

      .bakery-benefits li i {
        color: var(--light-orange);
        margin-right: 10px;
        font-size: 1.3rem;
      }

      .security-info {
        background-color: white;
        border-radius: 15px;
        padding: 25px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
      }

      .security-info h4 {
        color: var(--dark-green);
        margin-bottom: 15px;
        font-size: 1.3rem;
        display: flex;
        align-items: center;
      }

      .security-info h4 i {
        color: var(--dark-orange);
        margin-right: 10px;
      }

      .security-info p {
        color: #555;
        line-height: 1.5;
        margin-bottom: 10px;
      }

      footer {
        background-color: var(--dark-green);
        color: white;
        text-align: center;
        padding: 20px;
        margin-top: auto;
      }

      .footer-content {
        max-width: 1200px;
        margin: 0 auto;
      }

      .footer-content p {
        margin-bottom: 10px;
      }

      .footer-links {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin-top: 10px;
      }

      .footer-links a {
        color: white;
        text-decoration: none;
      }

      .footer-links a:hover {
        color: var(--light-orange);
      }

      /* Responsive Design */
      @media (max-width: 992px) {
        .container {
          flex-direction: column;
        }

        .register-section,
        .image-section {
          width: 100%;
        }

        .register-form-container {
          max-width: 100%;
        }
      }

      @media (max-width: 768px) {
        header {
          flex-direction: column;
          padding: 20px;
        }

        nav ul {
          margin-top: 20px;
          flex-wrap: wrap;
          justify-content: center;
        }

        nav li {
          margin-left: 15px;
          margin-right: 15px;
        }

        .register-form-container {
          padding: 30px 20px;
        }

        .bakery-benefits {
          height: auto;
          padding: 25px;
        }
      }

      @media (max-width: 576px) {
        .terms-group {
          flex-direction: column;
        }

        .terms-group input {
          margin-bottom: 10px;
        }

        .bakery-benefits h3 {
          font-size: 1.8rem;
        }
      }
    </style>
  </head>
  <body>
    <header>
      <a href="index.html" class="logo">
        <i class="fas fa-bread-slice logo-icon"></i>
        <h1>Sambethel <span>Taste</span></h1>
      </a>
      <nav>
        <ul>
          <li>
            <a href="index.html"><i class="fas fa-home"></i> Home</a>
          </li>
          <li>
            <a href="login.html"><i class="fas fa-sign-in-alt"></i> Login</a>
          </li>
          <li>
            <a href="#"><i class="fas fa-shopping-bag"></i> Shop</a>
          </li>
          <li>
            <a href="#"><i class="fas fa-info-circle"></i> About</a>
          </li>
        </ul>
      </nav>
    </header>

    <div class="container">
      <section class="register-section">
        <div class="register-form-container">
          <div class="register-header">
            <h2>Create Account</h2>
            <p>Join Sambethel Taste Bakery family</p>
          </div>

          <form id="registerForm">
            <div class="form-group required">
              <label for="username">Username</label>
              <div class="input-with-icon">
                <i class="fas fa-user"></i>
                <input
                  type="text"
                  id="username"
                  class="form-control"
                  placeholder="Enter your username"
                  required
                />
              </div>
            </div>

            <div class="form-group required">
              <label for="email">Email Address</label>
              <div class="input-with-icon">
                <i class="fas fa-envelope"></i>
                <input
                  type="email"
                  id="email"
                  class="form-control"
                  placeholder="example@email.com"
                  required
                />
              </div>
              <div class="error-message" id="email-error">
                Please enter a valid email address
              </div>
            </div>

            <div class="form-group required">
              <label for="phone">Phone Number</label>
              <div class="input-with-icon">
                <i class="fas fa-phone"></i>
                <input
                  type="tel"
                  id="phone"
                  class="form-control"
                  placeholder="08023143435"
                  required
                />
              </div>

              <span class="form-hint"
                >We'll use this for order updates and delivery
                notifications</span
              >
              <div class="error-message" id="phone-error">
                Please enter a valid 11-digit phone number
              </div>
            </div>

            <div class="form-group required">
              <label for="password">Password</label>
              <div class="input-with-icon">
                <i class="fas fa-lock"></i>
                <input
                  type="password"
                  id="password"
                  class="form-control"
                  placeholder="Create a strong password"
                  required
                />
                <span class="password-toggle" id="togglePassword">
                  <i class="fas fa-eye"></i>
                </span>
              </div>

              <div class="password-strength">
                <div class="strength-meter">
                  <div class="strength-fill" id="strengthFill"></div>
                </div>
                <div class="strength-text" id="strengthText">
                  Password strength: Very Weak
                </div>
              </div>

              <div class="error-message" id="password-error">
                Password must be at least 8 characters with uppercase,
                lowercase, number, and special character
              </div>
            </div>

            <div class="form-group required">
              <label for="confirmPassword">Confirm Password</label>
              <div class="input-with-icon">
                <i class="fas fa-lock"></i>
                <input
                  type="password"
                  id="confirmPassword"
                  class="form-control"
                  placeholder="Re-enter your password"
                  required
                />
                <span class="password-toggle" id="toggleConfirmPassword">
                  <i class="fas fa-eye"></i>
                </span>
              </div>
              <div class="error-message" id="confirmPassword-error">
                Passwords do not match
              </div>
            </div>

            <div class="terms-group">
              <input type="checkbox" id="terms" required />
              <label for="terms">
                I agree to the <a href="#">Terms of Service</a> and
                <a href="#">Privacy Policy</a>. I understand that Sambethel
                Taste Bakery may send me marketing communications about
                products, services, and promotions.
              </label>
            </div>

            <button type="submit" class="register-btn" id="submitBtn">
              Create Account
            </button>

            <div class="login-link">
              <p>
                Already have an account? <a href="login.html">Sign in here</a>
              </p>
            </div>
          </form>
        </div>
      </section>

      <section class="image-section">
        <div class="bakery-benefits">
          <div>
            <h3>Why Join Sambethel Taste?</h3>
            <p>Create an account to unlock exclusive benefits:</p>
            <ul>
              <li>
                <i class="fas fa-gift"></i>
                <strong>Birthday Treat:</strong> Free pastry on your birthday
              </li>

              <li>
                <i class="fas fa-star"></i> <strong>Reward Points:</strong> Earn
                points on every purchase
              </li>
            </ul>
          </div>
        </div>

        <div class="security-info">
          <h4><i class="fas fa-shield-alt"></i> Your Security Matters</h4>
          <p>
            We use industry-standard encryption to protect your personal
            information. Your password is hashed and never stored in plain text.
          </p>
          <p>
            We'll never share your information with third parties without your
            consent.
          </p>
        </div>
      </section>
    </div>

    <footer>
      <div class="footer-content">
        <p>&copy; 2023 Sambethel Taste Bakery. All rights reserved.</p>
        <div class="footer-links">
          <a href="#">Privacy Policy</a>
          <a href="#">Terms of Service</a>
          <a href="#">FAQ</a>
          <a href="#">Contact Us</a>
        </div>
      </div>
    </footer>

    <script>
      // DOM elements
      const registerForm = document.getElementById("registerForm");
      const emailInput = document.getElementById("email");
      const username = document.getElementById("username");
      const phoneInput = document.getElementById("phone");
      const passwordInput = document.getElementById("password");
      const confirmPasswordInput = document.getElementById("confirmPassword");
      const togglePassword = document.getElementById("togglePassword");
      const toggleConfirmPassword = document.getElementById(
        "toggleConfirmPassword",
      );
      const submitBtn = document.getElementById("submitBtn");

      // Error message elements
      const emailError = document.getElementById("email-error");
      const phoneError = document.getElementById("phone-error");
      const passwordError = document.getElementById("password-error");
      const confirmPasswordError = document.getElementById(
        "confirmPassword-error",
      );

      // Password strength elements
      const strengthFill = document.getElementById("strengthFill");
      const strengthText = document.getElementById("strengthText");

      // Validation functions
      function validateEmail(email) {
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return emailRegex.test(email);
      }

      function validatePhone(phone) {
        // Remove non-digits
        const cleaned = phone.replace(/\D/g, "");
        return cleaned.length === 11;
      }

      function validatePassword(password) {
        // At least 8 characters, 1 uppercase, 1 lowercase, 1 number, 1 special character
        const passwordRegex =
          /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;
        return passwordRegex.test(password);
      }

      function checkPasswordStrength(password) {
        let strength = 0;

        // Length check
        if (password.length >= 8) strength += 1;
        if (password.length >= 12) strength += 1;

        // Character variety checks
        if (/[a-z]/.test(password)) strength += 1;
        if (/[A-Z]/.test(password)) strength += 1;
        if (/\d/.test(password)) strength += 1;
        if (/[@$!%*?&]/.test(password)) strength += 1;

        // Determine strength level
        let strengthPercent = 0;
        let strengthLabel = "";

        if (strength <= 2) {
          strengthPercent = 25;
          strengthLabel = "Very Weak";
          strengthFill.style.backgroundColor = "#e74c3c";
        } else if (strength <= 4) {
          strengthPercent = 50;
          strengthLabel = "Weak";
          strengthFill.style.backgroundColor = "#f39c12";
        } else if (strength <= 5) {
          strengthPercent = 75;
          strengthLabel = "Good";
          strengthFill.style.backgroundColor = "#3498db";
        } else {
          strengthPercent = 100;
          strengthLabel = "Strong";
          strengthFill.style.backgroundColor = "#27ae60";
        }

        strengthFill.style.width = strengthPercent + "%";
        strengthText.textContent = "Password strength: " + strengthLabel;
      }

      // Toggle password visibility
      togglePassword.addEventListener("click", function () {
        const type =
          passwordInput.getAttribute("type") === "password"
            ? "text"
            : "password";
        passwordInput.setAttribute("type", type);
        this.innerHTML =
          type === "password"
            ? '<i class="fas fa-eye"></i>'
            : '<i class="fas fa-eye-slash"></i>';
      });

      toggleConfirmPassword.addEventListener("click", function () {
        const type =
          confirmPasswordInput.getAttribute("type") === "password"
            ? "text"
            : "password";
        confirmPasswordInput.setAttribute("type", type);
        this.innerHTML =
          type === "password"
            ? '<i class="fas fa-eye"></i>'
            : '<i class="fas fa-eye-slash"></i>';
      });

      // Real-time validation
      emailInput.addEventListener("input", function () {
        const isValid = validateEmail(this.value);

        if (this.value === "") {
          this.classList.remove("valid", "invalid");
          emailError.style.display = "none";
        } else if (isValid) {
          this.classList.remove("invalid");
          this.classList.add("valid");
          emailError.style.display = "none";
        } else {
          this.classList.remove("valid");
          this.classList.add("invalid");
          emailError.style.display = "block";
        }

        updateSubmitButton();
      });

      phoneInput.addEventListener("input", function () {
        const isValid = validatePhone(this.value);

        if (this.value === "") {
          this.classList.remove("valid", "invalid");
          phoneError.style.display = "none";
        } else if (isValid) {
          this.classList.remove("invalid");
          this.classList.add("valid");
          phoneError.style.display = "none";
        } else {
          this.classList.remove("valid");
          this.classList.add("invalid");
          phoneError.style.display = "block";
        }

        updateSubmitButton();
      });

      passwordInput.addEventListener("input", function () {
        const isValid = validatePassword(this.value);

        if (this.value === "") {
          this.classList.remove("valid", "invalid");
          passwordError.style.display = "none";
          strengthFill.style.width = "0%";
          strengthText.textContent = "Password strength: Very Weak";
        } else if (isValid) {
          this.classList.remove("invalid");
          this.classList.add("valid");
          passwordError.style.display = "none";
        } else {
          this.classList.remove("valid");
          this.classList.add("invalid");
          passwordError.style.display = "block";
        }

        // Update password strength indicator
        checkPasswordStrength(this.value);

        // Also validate confirm password if it has value
        if (confirmPasswordInput.value !== "") {
          validateConfirmPassword();
        }

        updateSubmitButton();
      });

      function validateConfirmPassword() {
        const password = passwordInput.value;
        const confirmPassword = confirmPasswordInput.value;

        if (confirmPassword === "") {
          confirmPasswordInput.classList.remove("valid", "invalid");
          confirmPasswordError.style.display = "none";
        } else if (password === confirmPassword && password !== "") {
          confirmPasswordInput.classList.remove("invalid");
          confirmPasswordInput.classList.add("valid");
          confirmPasswordError.style.display = "none";
        } else {
          confirmPasswordInput.classList.remove("valid");
          confirmPasswordInput.classList.add("invalid");
          confirmPasswordError.style.display = "block";
        }
      }

      confirmPasswordInput.addEventListener("input", validateConfirmPassword);

      // Update submit button state
      function updateSubmitButton() {
        const isEmailValid = validateEmail(emailInput.value);
        const isPhoneValid = validatePhone(phoneInput.value);
        const isPasswordValid = validatePassword(passwordInput.value);
        const isConfirmPasswordValid =
          passwordInput.value === confirmPasswordInput.value &&
          passwordInput.value !== "";
        const isTermsChecked = document.getElementById("terms").checked;

        if (
          isEmailValid &&
          isPhoneValid &&
          isPasswordValid &&
          isConfirmPasswordValid &&
          isTermsChecked
        ) {
          submitBtn.disabled = false;
        } else {
          submitBtn.disabled = true;
        }
      }

      document
        .getElementById("terms")
        .addEventListener("change", updateSubmitButton);

      // Format phone number as user types
      phoneInput.addEventListener("input", function (e) {
        let value = e.target.value.replace(/\D/g, "");

        if (value.length > 11) {
          value = value.substring(0, 10);
        }

        if (value.length >= 6) {
          value = `(${value.substring(0, 3)}) ${value.substring(3, 6)}-${value.substring(6)}`;
        } else if (value.length >= 3) {
          value = `(${value.substring(0, 3)}) ${value.substring(3)}`;
        } else if (value.length > 0) {
          value = `(${value}`;
        }

        e.target.value = value;
      });

      // Form submission
      registerForm.addEventListener("submit", async function (e) {
        e.preventDefault();

        // Final validation
        const isEmailValid = validateEmail(emailInput.value);
        const isPhoneValid = validatePhone(phoneInput.value);
        const isPasswordValid = validatePassword(passwordInput.value);
        const isConfirmPasswordValid =
          passwordInput.value === confirmPasswordInput.value &&
          passwordInput.value !== "";
        const isTermsChecked = document.getElementById("terms").checked;
        console.log(`email: ${isEmailValid}`);
        console.log(`email: ${isPhoneValid}`);

        if (!isEmailValid) {
          emailInput.classList.add("invalid");
          emailError.style.display = "block";
        }

        if (!isPhoneValid) {
          phoneInput.classList.add("invalid");
          phoneError.style.display = "block";
        }

        if (!isPasswordValid) {
          passwordInput.classList.add("invalid");
          passwordError.style.display = "block";
        }

        if (!isConfirmPasswordValid) {
          confirmPasswordInput.classList.add("invalid");
          confirmPasswordError.style.display = "block";
        }

        if (!isTermsChecked) {
          alert("Please agree to the Terms of Service and Privacy Policy");
          return;
        }

        if (
          isEmailValid &&
          isPhoneValid &&
          isPasswordValid &&
          isConfirmPasswordValid &&
          isTermsChecked
        ) {
          // Simulate registration process
          submitBtn.innerHTML =
            '<i class="fas fa-spinner fa-spin"></i> Creating Account...';
          submitBtn.disabled = true;

          // In a real application, this would be an API call
          try {
            const userData = {
              username: username.value,
              email: emailInput.value,
              phoneNumber: phoneInput.value,
              password: passwordInput.value,
            };
            console.log(userData);

            await axios.post("/users", userData);
            console.log("user Created", userData);
          } catch (err) {
            console.log("Failed To Send Data To BackEnd", err.message);
          }

          // Reset form
          registerForm.reset();
          emailInput.classList.remove("valid", "invalid");
          phoneInput.classList.remove("valid", "invalid");
          passwordInput.classList.remove("valid", "invalid");
          confirmPasswordInput.classList.remove("valid", "invalid");
          strengthFill.style.width = "0%";
          strengthText.textContent = "Password strength: Very Weak";

          // Reset button
          submitBtn.innerHTML = "Create Account";
          submitBtn.disabled = false;

          // In a real app, you would redirect to login or dashboard
          window.location.href = "dashboard.html";
        }
      });
    </script>
  </body>
</html>
